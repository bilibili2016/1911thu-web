webpackJsonp([13,42,72,98,99],{"0/p8":function(e,t,s){"use strict";t.b=function(e,t,s){Object(n.d)(t)||Object(n.e)(t)?s():s(new Error("请填入有效的手机号/学号"))},t.c=function(e,t,s){Object(n.d)(t)?s():s(new Error("请填入有效的手机号"))},t.a=function(e,t,s){Object(n.a)(t)?s():s(new Error("请填入有效的验证码"))},t.d=function(e,t){t(Object(n.f)(e)?e:new Error("请输入不包含特殊字符且小于30个字符的关键词！"))};var n=s("iG+4")},"22Bv":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"changePwd"},[s("el-form",{ref:"changePwd",staticClass:"demo-ruleForm",attrs:{model:e.changePwd,"status-icon":"",rules:e.pwdRules,"label-width":"135px",autoComplete:"off"}},[s("input",{staticClass:"hideInput",attrs:{type:"password"}}),s("el-form-item",{attrs:{label:"原密码",prop:"oldPass",id:"onlyForm"}},[s("el-input",{attrs:{type:"password",name:"noauto","auto-complete":"off",id:"onlyOne",placeholder:"请输入您的当前密码"},model:{value:e.changePwd.oldPass,callback:function(t){e.$set(e.changePwd,"oldPass",t)},expression:"changePwd.oldPass"}})],1),s("el-form-item",{staticClass:"margin",attrs:{label:"新密码：",prop:"newPass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入您的新密码"},model:{value:e.changePwd.newPass,callback:function(t){e.$set(e.changePwd,"newPass",t)},expression:"changePwd.newPass"}})],1),s("p",{staticClass:"tips"},[e._v("提示：8-16位密码，包含字母、数字、标点符号等")]),s("el-form-item",{attrs:{label:"确认新密码：",prop:"checkPass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请再次输入您的新密码"},model:{value:e.changePwd.checkPass,callback:function(t){e.$set(e.changePwd,"checkPass",t)},expression:"changePwd.checkPass"}})],1),s("input",{staticClass:"hideInput",attrs:{type:"password"}}),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("changePwd")}}},[e._v("提交")])],1)],1)],1)},a=[];n._withStripped=!0},"35Q2":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("hIEY"),a=s("7plO"),i=s("XyMi"),o=!1,r=function(e){o||s("Kk7d")},c=Object(i.a)(n.a,a.a,a.b,!1,r,"data-v-48d67f3d",null);c.options.__file="pages/profile/components/mysetting/setPersonal.vue",t.default=c.exports},"5RYC":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("div",{staticClass:"personalSet"},[!e.hasPersonalInfo&&e.showIcon?s("img",{staticClass:"person-edit",attrs:{src:"http://static-image.1911edu.com/edit-info.png"},on:{click:function(t){e.changeCard()}}}):e._e(),s("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"基础信息",name:"first"}},[e.hasPersonalInfo?s("v-setPer",{attrs:{data:e.psnForm,hasCompany:e.hasCompany},on:{changeStatus:e.changeStatus,getUserData:e.getUserData}}):e._e(),e.showInfo?s("v-showPer",{attrs:{psnForm:e.psnForm}}):e._e()],1),s("el-tab-pane",{attrs:{label:"修改密码",name:"second"}},[s("v-password",{directives:[{name:"show",rawName:"v-show",value:e.showPwd,expression:"showPwd"}]})],1)],1)],1),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.updateSuccess,expression:"updateSuccess"}],staticClass:"success"},[s("img",{attrs:{src:"http://static-image.1911edu.com/bindingSuccess.png"}}),s("p",[e._v("恭喜您操作成功")])])])],1)},a=[];n._withStripped=!0},"7plO":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-form",{ref:"psnForm",staticClass:"psnForm",attrs:{model:e.psnForm,rules:e.rules,"label-width":"135px"}},[n("el-form-item",{attrs:{label:"学号",prop:"student_number"}},[n("el-input",{attrs:{readonly:""},model:{value:e.psnForm.student_number,callback:function(t){e.$set(e.psnForm,"student_number",t)},expression:"psnForm.student_number"}})],1),n("el-form-item",{attrs:{label:"昵称",prop:"nick_name"}},[n("el-input",{model:{value:e.psnForm.nick_name,callback:function(t){e.$set(e.psnForm,"nick_name",t)},expression:"psnForm.nick_name"}})],1),n("el-form-item",{attrs:{label:"性别",prop:"sex"}},[n("el-radio-group",{model:{value:e.psnForm.sex,callback:function(t){e.$set(e.psnForm,"sex",t)},expression:"psnForm.sex"}},[n("el-radio",{attrs:{label:"1"}},[e._v("男")]),n("el-radio",{attrs:{label:"2"}},[e._v("女")])],1)],1),n("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[n("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.psnForm.birthday,callback:function(t){e.$set(e.psnForm,"birthday",t)},expression:"psnForm.birthday"}})],1),n("el-form-item",{attrs:{label:"所在地区",prop:"province"}},[n("el-select",{attrs:{placeholder:"省"},on:{change:e.provinceChange},model:{value:e.psnForm.province_name,callback:function(t){e.$set(e.psnForm,"province_name",t)},expression:"psnForm.province_name"}},e._l(e.province,function(e,t){return n("el-option",{key:"prov"+t,attrs:{label:e.label,value:e.value}})})),n("el-select",{attrs:{placeholder:"市","no-data-text":"请先选择所在省份"},on:{change:e.cityChange},model:{value:e.psnForm.city_name,callback:function(t){e.$set(e.psnForm,"city_name",t)},expression:"psnForm.city_name"}},e._l(e.city,function(e,t){return n("el-option",{key:"city"+t,attrs:{label:e.label,value:e.value}})})),n("el-select",{attrs:{placeholder:"区","no-data-text":"请先选择所在城市"},on:{change:e.areaChange},model:{value:e.psnForm.area_name,callback:function(t){e.$set(e.psnForm,"area_name",t)},expression:"psnForm.area_name"}},e._l(e.area,function(e,t){return n("el-option",{key:"area"+t,attrs:{label:e.label,value:e.value}})}))],1),n("el-form-item",{attrs:{label:"职业",prop:"position"}},[n("el-select",{staticClass:"profession",attrs:{placeholder:"请选择"},model:{value:e.psnForm.position,callback:function(t){e.$set(e.psnForm,"position",t)},expression:"psnForm.position"}},e._l(e.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{attrs:{maxlength:"50",placeholder:"请输入您的邮箱地址"},model:{value:e.psnForm.email,callback:function(t){e.$set(e.psnForm,"email",t)},expression:"psnForm.email"}})],1),n("el-form-item",{staticClass:"telForm",attrs:{disable:"",label:"手机号"}},[n("el-input",{staticClass:"telephone",attrs:{disabled:""},model:{value:e.psnForm.user_name,callback:function(t){e.$set(e.psnForm,"user_name",t)},expression:"psnForm.user_name"}}),""==e.psnForm.user_name?n("span",{staticClass:"teledit",on:{click:e.handleBindPhone}},[n("img",{attrs:{src:s("DyKh"),alt:""}}),e._v("绑定\n        ")]):n("span",{staticClass:"teledit",on:{click:e.modifyPhone}},[n("img",{attrs:{src:s("EOz4"),alt:""}}),e._v("修改\n        ")])],1),e.hasCompany?n("el-form-item",{key:"psnForm.company_name",attrs:{label:"单位名称"}},[n("el-input",{attrs:{maxlength:"30",placeholder:"请输入您的单位名称"},model:{value:e.psnForm.company_name,callback:function(t){e.$set(e.psnForm,"company_name",t)},expression:"psnForm.company_name"}})],1):n("el-form-item",{attrs:{label:"单位名称"}},[n("el-input",{attrs:{maxlength:"30",placeholder:"请输入您的单位名称"},model:{value:e.psnForm.company_name,callback:function(t){e.$set(e.psnForm,"company_name",t)},expression:"psnForm.company_name"}})],1),n("el-form-item",{staticClass:"submit",attrs:{size:"large"}},[n("el-button",{staticClass:"submitAble",attrs:{type:"primary",round:""},on:{click:function(t){e.onSubmit("psnForm")}}},[e._v("提交")])],1)],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showBindBg,expression:"showBindBg"}],staticClass:"bindBg"},[n("v-bindphone",{attrs:{bindTelData:e.bindTelData,numPhone:e.psnForm.user_name},on:{close:e.close,getUserData:e.getUserData}})],1)])},a=[];n._withStripped=!0},Buyw:function(e,t,s){var n=s("Nu94");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals),s("rjj0")("ee5190e4",n,!1,{sourceMap:!1})},DyKh:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAVFBMVEUAAAB4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIa2HJJoAAAAG3RSTlMALKA7rHdojBrCmVoh8+i2NNxxEQjTyV8lgVWfX8x0AAAAr0lEQVQoz22PVxLDIBBDBSEGXOOaovvfM8ZlFhj0AzwN7ANZXF0rFKK451HkRksT8wloyFeJA+/sTktWwNXEBpb63tbUSeHLhWOPgQuAKn0Kajb0gctw9z3GGprARfdBcgQ89bx6k/ChH2E4BOWIn/7DYeKsbYU3wLKJYcyhdt6PcbHRnmJYev4gWTndW88Kkobd9csnu1l4OPNzrQrIG+FZYzW7Fig0KRcDU7sM/QGkFwyASFuScQAAAABJRU5ErkJggg=="},EOz4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAAARVBMVEUAAAB4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIZ4MIa7g5W1AAAAFnRSTlMAM8MTC4VW7ujgRBfTnfTZTj0fj3hgxl1+egAAAI1JREFUGNNlz+0OgyAMheGDsA3Hp6i9/0tdbbJYy/vzyYEA4HQe3LYWFHqUWIky2kNXj04UBxba/R3wZU1gPqBycuLil1LeNg/LG28DSh6K//cGolNz520Cwofeih1vPSw72Vrme3OAZdYYYFh0wHKXv1kO8oaJseSEmSXLB0xRuDjTtW5Ecyf2Wi3W6H6Fig8H5NXwogAAAABJRU5ErkJggg=="},GNFF:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("O5Gx"),a=s("oUtt"),i=s("XyMi"),o=!1,r=function(e){o||s("S+c9")},c=Object(i.a)(n.a,a.a,a.b,!1,r,"data-v-514c0eec",null);c.options.__file="pages/profile/components/mysetting/bindPhone.vue",t.default=c.exports},Kk7d:function(e,t,s){var n=s("ofPt");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals),s("rjj0")("0554f4da",n,!1,{sourceMap:!1})},Nu94:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,"",""])},O5Gx:function(e,t,s){"use strict";var n=s("0/p8"),a=s("SL1N"),i=s("v/8m");t.a={props:["bindTelData","numPhone"],data:function(){return{codeInterval:null,isReturnShow:!0,isFirstShow:!0,codeClick:!0,submitClick:!0,validataPhone:{phones:""},validataPhoneRules:{phones:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:n.c,trigger:"blur"}]},bindwxRules:{phones:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:n.c,trigger:"blur"}],codes:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},methods:{back:function(){this.isFirstShow=!0,this.initData()},close:function(){this.$emit("close"),this.isFirstShow=!0,this.validataPhone.phones="",this.initData()},initData:function(){this.bindTelData.phones="",this.bindTelData.codes="",clearInterval(this.codeInterval),this.bindTelData.getCode="获取验证码",this.bindTelData.seconds=30,this.codeClick=!0},nextStep:function(e){var t=this;this.$refs[e].validate(function(e){e&&a.z.confirmPhoneByUser(t.validataPhone).then(function(e){0==e.status?t.isFirstShow=!1:Object(i.i)(t,"error",e.msg)})})},verifyRgTel:function(){var e=this;if(30==this.bindTelData.seconds&&this.codeClick){if(this.codeClick=!1,!/^[1][2,3,4,5,6,7,8,9][0-9]{9}$/.test(this.bindTelData.phones))return Object(i.i)(this,"error","请输入正确的手机号！"),this.codeClick=!0,!1;a.d.verifyPhone(this.bindTelData).then(function(t){0!==t.status?(Object(i.i)(e,"error",t.msg),e.codeClick=!0):e.getCode()})}},getCode:function(){var e=this;30===this.bindTelData.seconds&&(this.bindTelData.types=4,a.d.smsCodes(this.bindTelData).then(function(t){var s=0===t.status?"success":"error";Object(i.i)(e,s,t.msg),e.bindTelData.getCode=e.bindTelData.seconds+"秒后重新发送",e.codeInterval=setInterval(function(){e.bindTelData.seconds<=1?(e.codeClick=!0,e.bindTelData.getCode="获取验证码",e.bindTelData.seconds=30,clearInterval(e.codeInterval)):e.bindTelData.getCode=--e.bindTelData.seconds+"秒后重新发送"},1e3)}))},submitPhone:function(e){var t=this;this.submitClick&&(this.submitClick=!1,this.$refs[e].validate(function(e){e?(t.bindTelData.oldPhone=t.validataPhone.phones,a.z.editPhone(t.bindTelData).then(function(e){0==e.status?(Object(i.i)(t,"success","绑定成功"),t.$emit("getUserData"),t.submitClick=!0,t.close()):(Object(i.i)(t,"error",e.msg),t.submitClick=!0)})):t.submitClick=!0}))}},mounted:function(){var e=this;this.$bus.$on("openTwo",function(){e.isFirstShow=!1,e.isReturnShow=!1})}}},PZkr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("evtl"),a=s("5RYC"),i=s("XyMi"),o=Object(i.a)(n.a,a.a,a.b,!1,null,null,null);o.options.__file="pages/profile/pages/mySettings.vue",t.default=o.exports},QBjj:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Rs19"),a=s("22Bv"),i=s("XyMi"),o=!1,r=function(e){o||s("Buyw")},c=Object(i.a)(n.a,a.a,a.b,!1,r,"data-v-15384759",null);c.options.__file="pages/profile/components/mysetting/updatePassword.vue",t.default=c.exports},Rs19:function(e,t,s){"use strict";var n=s("Dd8w"),a=s.n(n),i=s("SL1N"),o=s("lHEt"),r=s("NYxO"),c=s("v/8m");t.a={data:function(){var e=this;return{changePwd:{oldPass:"",newPass:"",checkPass:""},pwdRules:{oldPass:[{validator:function(t,s,n){""===s?n(new Error("请输入原密码")):(""!==e.changePwd.checkPass&&e.$refs.changePwd.validateField("checkPass"),n())},trigger:"blur"}],newPass:[{validator:function(e,t,s){""===t?s(new Error("请输入新密码")):t.length<8||t.length>17?s(new Error("请输入至少8位最多16位的密码")):s()},trigger:"blur"}],checkPass:[{validator:function(t,s,n){""===s?n(new Error("请再次输入密码")):s!==e.changePwd.newPass?n(new Error("两次输入密码不一致!")):n()},trigger:"blur"}]}}},methods:a()({},Object(r.mapActions)("auth",["signOut"]),{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var s={oldps:Object(c.c)(t.changePwd.oldPass),newpass:Object(c.c)(t.changePwd.newPass),newpasso:Object(c.c)(t.changePwd.checkPass)};i.z.editPassWord(s).then(function(e){t.changePwd={oldPass:"",newPass:"",checkPass:""},100008==e.status&&t.$router.push("/"),0==e.status?(t.$alert("修改成功，请重新登录！","温馨提示",{confirmButtonText:"确定",callback:function(e){t.$router.push("/"),t.signOut(),t.$bus.$emit("loginShow",!0)}}),o.a.clearAll()):100100==e.status&&(e.msg,t.$message({showClose:!0,type:"error",message:e.msg}))})})},forget:function(){this.$router.push("/auth/forgotPassword")}})}},"S+c9":function(e,t,s){var n=s("bTD3");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals),s("rjj0")("43705a62",n,!1,{sourceMap:!1})},bTD3:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,"",""])},evtl:function(e,t,s){"use strict";var n=s("woOf"),a=s.n(n),i=s("BO1k"),o=s.n(i),r=s("Dd8w"),c=s.n(r),l=(s("SL1N"),s("v/8m"),s("NYxO")),u=s("lHEt"),p=s("wrhz"),h=s("35Q2"),m=s("QBjj");t.a={props:["userInfo"],components:{"v-showPer":p.default,"v-setPer":h.default,"v-password":m.default},data:function(){return{hasCompany:!0,showInfo:!1,showIcon:!0,regionList:[],area:[],province:[],city:[],activeName:"first",hasPersonalInfo:!1,showPwd:!0,updateSuccess:!1,options:[],changePwd:{oldPass:"",newPass:"",checkPass:""},psnForm:{user_name:"",head_img:"",nick_name:"",real_name:"",birthday:"",sex:"1",position:"",province:"",province_name:"",city:"",city_name:"",area:"",area_name:"",company_name:"",company_code:""}}},watch:{userInfo:function(e){this.psnForm=e,this.processData()},province:function(e){this.city=this.getRegion(e,this.psnForm.province),this.area=this.getRegion(this.city,this.psnForm.city)},"psnForm.province":function(e,t){this.province||0!=this.province.length||this.getRegionList(),""!=t&&(this.psnForm.city=""),this.city=this.getRegion(this.province,e)},"psnForm.city":function(e,t){this.city||0!=this.city.length||this.getRegionList(),""!=t&&(this.psnForm.area=""),this.area=this.getRegion(this.city,e)}},computed:c()({},Object(l.mapGetters)("auth",["isAuthenticated"])),methods:{changeCard:function(){this.showInfo=!1,this.hasPersonalInfo=!0},getRegion:function(e,t){var s=[],n=!0,i=!1,r=void 0;try{for(var c,l=o()(e);!(n=(c=l.next()).done);n=!0){var u=c.value;if(u.region_code==t){var p=!0,h=!1,m=void 0;try{for(var d,f=o()(u.city);!(p=(d=f.next()).done);p=!0){var v=d.value;s.push(a()({},v,{label:v.name,value:v.region_code}))}}catch(e){h=!0,m=e}finally{try{!p&&f.return&&f.return()}finally{if(h)throw m}}}}}catch(e){i=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}return s},handleClick:function(e,t){u.a.get("token")?"first"==e.name?(this.showIcon=!0,this.getUserData()):this.showIcon=!1:(this.$router.push("/"),this.$bus.$emit("loginShow",!0))},processData:function(e){this.psnForm.company_name&&""!=this.psnForm.company_name?(this.hasCompany=!0,u.a.set("cpnc",this.psnForm.company_code)):this.hasCompany=!1,1==this.psnForm.is_update?(this.showInfo=!0,this.hasPersonalInfo=!1):(this.showInfo=!1,this.hasPersonalInfo=!0)},getUserData:function(){this.$emit("getUserData")},changeStatus:function(e){this.showInfo=e.showInfo,this.hasCompany=e.hasCompany,this.hasPersonalInfo=e.hasPersonalInfo}},mounted:function(){var e=this;this.$bus.$on("activeSet",function(){e.activeName="first"})}}},hIEY:function(e,t,s){"use strict";var n=s("woOf"),a=s.n(n),i=s("BO1k"),o=s.n(i),r=s("Dd8w"),c=s.n(r),l=s("NYxO"),u=s("lHEt"),p=s("SL1N"),h=s("GNFF"),m=(s("0/p8"),s("v/8m"));t.a={props:["data","hasCompany"],data:function(){return{showBindBg:!1,area:[],province:[],city:[],options:[],psnForm:{student_number:"",user_name:"",head_img:"",nick_name:"",real_name:"",birthday:"",sex:"1",position:"",province:"",province_name:"",city:"",city_name:"",area:"",area_name:"",company_name:"",company_code:""},rules:{nick_name:[{required:!0,message:"昵称不能为空"},{min:2,max:18,message:"请输入至少2位最多18位，可包含汉字，英文字母，数字，下划线",trigger:"blur"},{validator:function(e,t,s){/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(t)||s(new Error("请输入至少2位最多18位，可包含汉字，英文字母，数字，下划线")),s()},trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],birthday:[{required:!0,type:"string",message:"请选择生日",trigger:"change"}],province:[{required:!0,message:"请选择您的所在地",trigger:"change"}],position:[{required:!0,message:"职业不能为空"},{required:!0,message:"请填写您的职业",trigger:"blur"}],email:[{required:!0,message:"请输入正确的邮箱地址",trigger:["blur"]},{validator:function(e,t,s){/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(t)||s(new Error("请输入正确的邮箱！")),s()},trigger:"blur"}]},bindTelData:{phones:"",codes:"",getCode:"获取验证码",seconds:30,types:1,openid:null,companyCodes:"",captchaDisable:!1,exist:!1,checked:!1}}},components:{"v-bindphone":h.default},computed:c()({},Object(l.mapGetters)("auth",["isAuthenticated"])),methods:{provinceChange:function(e){this.psnForm.city_name="",this.psnForm.area_name="",this.psnForm.city="",this.psnForm.area="",this.province||0!=this.province.length||this.getRegionList(),this.city=this.getRegion(this.province,e);var t=!0,s=!1,n=void 0;try{for(var a,i=o()(this.province);!(t=(a=i.next()).done);t=!0){var r=a.value;e==r.region_code&&(this.psnForm.province_name=r.name,this.psnForm.province=r.region_code)}}catch(e){s=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(s)throw n}}},cityChange:function(e){this.psnForm.area_name="",this.psnForm.area="",this.city||0!=this.city.length||this.getRegionList(),this.area=this.getRegion(this.city,e);var t=!0,s=!1,n=void 0;try{for(var a,i=o()(this.city);!(t=(a=i.next()).done);t=!0){var r=a.value;e==r.region_code&&(this.psnForm.city_name=r.name,this.psnForm.city=r.region_code)}}catch(e){s=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(s)throw n}}},areaChange:function(e){var t=!0,s=!1,n=void 0;try{for(var a,i=o()(this.area);!(t=(a=i.next()).done);t=!0){var r=a.value;e==r.region_code&&(this.psnForm.area_name=r.name,this.psnForm.area=r.region_code)}}catch(e){s=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(s)throw n}}},getRegion:function(e,t){var s=[],n=!0,i=!1,r=void 0;try{for(var c,l=o()(e);!(n=(c=l.next()).done);n=!0){var u=c.value;if(u.region_code==t){var p=!0,h=!1,m=void 0;try{for(var d,f=o()(u.city);!(p=(d=f.next()).done);p=!0){var v=d.value;s.push(a()({},v,{label:v.name,value:v.region_code}))}}catch(e){h=!0,m=e}finally{try{!p&&f.return&&f.return()}finally{if(h)throw m}}}}}catch(e){i=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}return s},getRegionList:function(){var e=this;p.z.getRegionList({region_code:""}).then(function(t){e.mapregionList=t.data.regionList,e.province=e.mapregionList.map(function(e){return a()({},e,{label:e.name,value:e.region_code})})})},getPositionList:function(){var e=this;p.z.positionList().then(function(t){var s=t.data;e.options=s.map(function(e){return{label:e.position_name,value:e.id}})})},onSubmit:function(e){var t=this;if(""!==this.psnForm.province&&(""===this.psnForm.city||""===this.psnForm.area))return this.$message({showClose:!0,type:"error",message:"请选择地址信息！"}),!1;this.$refs[e].validate(function(e){e&&p.z.perInformation(t.psnForm).then(function(e){0==e.status?t.getUserData():t.$message({showClose:!0,type:"error",message:e.msg})})})},getUserData:function(){this.$emit("getUserData")},modifyPhone:function(){Object(m.a)("pane-tab-sixth","-ms-page",0),this.showBindBg=!0},close:function(){Object(m.a)("pane-tab-sixth","relative",1),this.showBindBg=!1},handleBindPhone:function(){Object(m.a)("pane-tab-sixth","-ms-page",0),this.showBindBg=!0,this.$bus.$emit("openTwo")}},watch:{data:function(e){this.psnForm=this.data},province:function(e){this.city=this.getRegion(e,this.psnForm.province),this.area=this.getRegion(this.city,this.psnForm.city)}},mounted:function(){var e=this;this.psnForm=this.data,u.a.get("gid")&&"tab-sixth"==u.a.get("gid")&&(this.getPositionList(),this.getRegionList()),this.$bus.$on("getPositionList",function(t){e.getPositionList(),e.getRegionList()})}}},"iG+4":function(e,t,s){"use strict";t.b=function(e){return/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e)},t.a=function(e){return/^\d{4}$/.test(e)},t.d=function(e){return/^[1][2,3,4,5,6,7,8,9][0-9]{9}$/.test(e)},t.e=function(e){return/^[2][0-9]{8}$/.test(e)},t.c=function(e){return/^([\d]|[\w]){6,16}$/.test(e)},t.f=function(e){return!/[@#\$%\^&\*]+/g.test(e)&&""!==e&&e.length<30}},l72U:function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"psnInfo"},[s("ul",[s("li",[s("span",[e._v("学号：")]),s("span",[e._v(e._s(e.psnForm.student_number))])]),s("li",[s("span",[e._v("昵称：")]),s("span",[e._v(e._s(e.psnForm.nick_name))])]),s("li",[s("span",[e._v("性别：")]),s("span",[e._v(e._s(e.getSex(e.psnForm.sex)))])]),s("li",[s("span",[e._v("生日：")]),s("span",[e._v(e._s(e.formatDate(e.psnForm.birthday)))])]),s("li",[s("span",[e._v("所在地区：")]),s("span",[e._v(e._s(e.psnForm.province_name)+e._s(e.psnForm.city_name)+e._s(e.psnForm.area_name))])]),s("li",[s("span",[e._v("职位：")]),s("span",[e._v(e._s(e.psnForm.position_name))])]),s("li",[s("span",[e._v("邮箱：")]),s("span",{staticClass:"oneLine"},[e._v(e._s(e.psnForm.email.substring(0,50)))])]),s("li",[s("span",[e._v("手机号：")]),s("span",{staticClass:"default"},[e._v(e._s(e.psnForm.user_name))])]),s("li",[s("span",[e._v("单位名称：")]),s("span",{staticClass:"default oneLine"},[e._v(e._s(e.psnForm.company_name.substring(0,30)))])])])])},a=[];n._withStripped=!0},oAwo:function(e,t,s){var n=s("pLcp");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals),s("rjj0")("6e676ffe",n,!1,{sourceMap:!1})},oUtt:function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bingPhone"},[s("i",{directives:[{name:"show",rawName:"v-show",value:!e.isFirstShow&&e.isReturnShow,expression:"!isFirstShow && isReturnShow"}],staticClass:"el-icon-back backPop",on:{click:e.back}}),s("i",{staticClass:"el-icon-close closePop",on:{click:e.close}}),s("el-form",{directives:[{name:"show",rawName:"v-show",value:e.isFirstShow,expression:"isFirstShow"}],ref:"validataPhone",staticClass:"demo-ruleForm",attrs:{model:e.validataPhone,"status-icon":"",rules:e.validataPhoneRules}},[s("div",{staticClass:"formInner"},[s("div",{staticClass:"first"},[s("h4",{staticClass:"clearfix"},[e._v("认证手机号码")]),s("p",{staticClass:"text"},[e._v("友情提醒：解绑后，您将无法再使用此手机号进行找回密码和登录等相关操作。")]),s("p",{staticClass:"text num"},[e._v("已绑定手机号：\n          "),s("span",[e._v(e._s(e.numPhone))])]),s("el-form-item",{attrs:{prop:"phones"}},[s("el-input",{attrs:{placeholder:"请输入您已绑定的手机号"},model:{value:e.validataPhone.phones,callback:function(t){e.$set(e.validataPhone,"phones",e._n(t))},expression:"validataPhone.phones"}})],1),s("el-row",[s("el-button",{nativeOn:{click:function(t){e.nextStep("validataPhone")}}},[e._v("下一步")])],1)],1)])]),s("el-form",{directives:[{name:"show",rawName:"v-show",value:!e.isFirstShow,expression:"!isFirstShow"}],ref:"bindTelData",staticClass:"demo-ruleForm",attrs:{model:e.bindTelData,"status-icon":"",rules:e.bindwxRules}},[s("div",{staticClass:"formInner"},[s("div",{staticClass:"two"},[s("h4",{staticClass:"clearfix"},[e._v("绑定手机")]),s("el-form-item",{attrs:{prop:"phones"}},[s("el-input",{attrs:{placeholder:"请输入您新的手机号"},model:{value:e.bindTelData.phones,callback:function(t){e.$set(e.bindTelData,"phones",e._n(t))},expression:"bindTelData.phones"}})],1),s("el-form-item",{staticClass:"lastItem clearfix",attrs:{prop:"codes"}},[s("el-input",{staticClass:"captcha",attrs:{placeholder:"请输入短信验证码"},model:{value:e.bindTelData.codes,callback:function(t){e.$set(e.bindTelData,"codes",e._n(t))},expression:"bindTelData.codes"}}),s("div",{staticClass:"getCode",on:{click:e.verifyRgTel}},[e._v(e._s(e.bindTelData.getCode))])],1),s("el-row",[s("el-button",{staticClass:"submit",attrs:{disabled:!e.submitClick},nativeOn:{click:function(t){e.submitPhone("bindTelData")}}},[e._v("提交")])],1)],1)])])],1)},a=[];n._withStripped=!0},ofPt:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,"",""])},pLcp:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,"",""])},vz8w:function(e,t,s){"use strict";t.a={props:["psnForm"],methods:{getSex:function(e){return 1==e?"男":2==e?"女":"保密"},formatDate:function(e){if(e&&""!=e){var t=new Date(e);return t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日"}return""}}}},wrhz:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("vz8w"),a=s("l72U"),i=s("XyMi"),o=!1,r=function(e){o||s("oAwo")},c=Object(i.a)(n.a,a.a,a.b,!1,r,"data-v-0049901c",null);c.options.__file="pages/profile/components/mysetting/showPersonal.vue",t.default=c.exports}});