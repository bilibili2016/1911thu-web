webpackJsonp([125],{"0/p8":function(t,e,s){"use strict";e.b=function(t,e,s){Object(a.d)(e)||Object(a.e)(e)?s():s(new Error("请填入有效的手机号/学号"))},e.c=function(t,e,s){Object(a.d)(e)?s():s(new Error("请填入有效的手机号"))},e.a=function(t,e,s){Object(a.a)(e)?s():s(new Error("请填入有效的验证码"))},e.d=function(t,e){e(Object(a.f)(t)?t:new Error("请输入不包含特殊字符且小于30个字符的关键词！"))};var a=s("iG+4")},DiZj:function(t,e,s){"use strict";var a=s("Xxa5"),r=s.n(a),o=s("exGp"),i=s.n(o),n=s("Dd8w"),c=s.n(n),p=s("0/p8"),d=s("iG+4"),u=s("NYxO"),l=s("SL1N"),f=s("v/8m");e.a={data:function(){return{showPwd:!1,pwdType:"password",fpData:{seconds:30,phones:null,code:"",password:"",ectpwd:"",getCode:"获取验证码",captchaDisable:!1,checked:!1,types:2},formRules:{password:[{required:!0,message:"请输入您新设置的密码",trigger:"blur"},{type:"string",min:8,max:16,message:"密码长度为8-16位",trigger:"blur"}],phones:[{validator:p.b,trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},bindTelData:{tel:"",code:"",getCode:"获取验证码",seconds:30,captchaDisable:!1,checked:!1,types:1},registerData:{phones:"",passwords:"",types:1,codes:"",checked:[],companyCodes:""},captchaDisable:!1}},methods:c()({},Object(u.mapActions)("auth",["forgetPasswordAjax"]),{changePwd:function(){this.showPwd?(this.showPwd=!1,this.pwdType="password"):(this.showPwd=!0,this.pwdType="text")},verifyRgTel:function(){var t=this;l.d.verifyPhone(this.fpData).then(function(e){0===e.status?(Object(f.i)(t,"error","您的手机号还未注册！"),t.bindTelData.captchaDisable=!0):100100===e.status?(Object(f.i)(t,"error",e.msg),t.bindTelData.captchaDisable=!0):30===t.bindTelData.seconds&&(t.bindTelData.captchaDisable=!1,t.handleGetCode(t.registerData))})},forgetPassword:function(){var t=this;return this.fpData.code=String(this.fpData.code),this.fpData.password=String(this.fpData.password),Object(d.d)(this.fpData.phones)?""==Object(f.b)(this.fpData.code)?(Object(f.i)(this,"error","请输入短信验证码"),!1):Object(f.b)(this.fpData.password).length<8||Object(f.b)(this.fpData.password).length>16?(Object(f.i)(this,"error","8-16位密码，区分大小写，不能用空格"),!1):(this.fpData.ectpwd=Object(f.c)(this.fpData.password),void this.forgetPasswordAjax(this.fpData).then(function(e){var s=0===e.status?"success":"error";Object(f.i)(t,s,e.msg),0===e.status&&t.goHome()})):(Object(f.i)(this,"error","请输入有效的手机号！"),!1)},handleGetCode:function(){var t=i()(r.a.mark(function t(){var e=this;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.captchaDisable||l.d.smsCodes(this.fpData).then(function(t){var s=0===t.status?"success":"error";if(Object(f.i)(e,s,t.msg),0===t.status){e.captchaDisable=!0,e.fpData.getCode=e.fpData.seconds+"秒后重新发送";var a=setInterval(function(){e.fpData.seconds<=0?(e.fpData.getCode="获取验证码",e.fpData.seconds=30,e.captchaDisable=!1,clearInterval(a)):e.fpData.getCode=--e.fpData.seconds+"秒后重新发送"},1e3)}});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),goHome:function(){this.$router.push("/")},otherLogin:function(){this.goHome(),this.$bus.$emit("loginShow",!0)}}),beforeRouteEnter:function(t,e,s){s(function(t){t.$bus.$emit("headerFooterHide")})},beforeRouteLeave:function(t,e,s){this.$bus.$emit("headerFooterShow"),s()}}},YNdA:function(t,e,s){"use strict";s.d(e,"a",function(){return a}),s.d(e,"b",function(){return r});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"start forgot"},[s("div",{staticClass:"lrFrame"},[s("div",{staticClass:"logo",on:{click:t.goHome}},[s("img",{attrs:{src:"http://static-image.1911edu.com/1911-logo.png",alt:""}})]),t._m(0),s("el-form",{ref:"fpData",staticClass:"demo-ruleForm",attrs:{model:t.fpData,"status-icon":"",rules:t.formRules}},[s("input",{staticClass:"hideInput",attrs:{type:"password"}}),s("el-form-item",{attrs:{prop:"phones"}},[s("el-input",{attrs:{placeholder:"请输入您的手机号"},model:{value:t.fpData.phones,callback:function(e){t.$set(t.fpData,"phones",e)},expression:"fpData.phones"}})],1),s("el-form-item",{staticClass:"clearfix",attrs:{prop:"code"}},[s("el-input",{staticClass:"captcha",attrs:{placeholder:"请输入短信验证码"},model:{value:t.fpData.code,callback:function(e){t.$set(t.fpData,"code",t._n(e))},expression:"fpData.code"}}),s("div",{staticClass:"getCode",on:{click:t.verifyRgTel}},[t._v(t._s(t.fpData.getCode))])],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:t.pwdType,placeholder:"8-16位密码，包含字母、数字、标点符号等"},model:{value:t.fpData.password,callback:function(e){t.$set(t.fpData,"password",e)},expression:"fpData.password"}}),s("span",{class:{hidePwd:!t.showPwd,showPwd:t.showPwd},attrs:{alt:""},on:{click:t.changePwd}})],1),s("el-row",[s("el-button",{nativeOn:{click:function(e){t.forgetPassword()}}},[t._v("提交")])],1),s("input",{staticClass:"hideInput",attrs:{type:"password"}})],1),s("div",{staticClass:"returnLogin",on:{click:t.otherLogin}},[t._v("返回登录 "),s("i",{staticClass:"otherLoginIcon"})])],1)])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pwd"},[s("span",[t._v("忘记密码")])])}];a._withStripped=!0},"iG+4":function(t,e,s){"use strict";e.b=function(t){return/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(t)},e.a=function(t){return/^\d{4}$/.test(t)},e.d=function(t){return/^[1][2,3,4,5,6,7,8,9][0-9]{9}$/.test(t)},e.e=function(t){return/^[2][0-9]{8}$/.test(t)},e.c=function(t){return/^([\d]|[\w]){6,16}$/.test(t)},e.f=function(t){return!/[@#\$%\^&\*]+/g.test(t)&&""!==t&&t.length<30}},"uA/X":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("DiZj"),r=s("YNdA"),o=s("XyMi"),i=Object(o.a)(a.a,r.a,r.b,!1,null,null,null);i.options.__file="pages/auth/forgotpassword.vue",e.default=i.exports}});