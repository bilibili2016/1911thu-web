webpackJsonp([69],{"/8DI":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("AgGl"),n=s("SNTH"),a=s("XyMi"),o=!1,r=function(t){o||s("6eAd")},c=Object(a.a)(i.a,n.a,n.b,!1,r,"data-v-2f13c430",null);c.options.__file="pages/profile/components/myexamine/answerQuestion.vue",e.default=c.exports},"6eAd":function(t,e,s){var i=s("ZvWb");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals),s("rjj0")("3226be5e",i,!1,{sourceMap:!1})},AgGl:function(t,e,s){"use strict";var i=s("Dd8w"),n=s.n(i),a=s("NYxO"),o=s("lHEt"),r=s("SL1N"),c=s("v/8m");e.a={data:function(){return{isOver:!1,title:"",selectRadio:"",selectIndex:[],selectItem:0,qualified:!1,submitForm:{recordId:""},examForm:{examId:"",questionId:"",selectId:[]},showShadow:!1,socket:"",interval:"",showResult:!1,questionCurrent:{},questionCard:[],questionPre:{},questionNext:{},questionNum:0,answerNum:0,percent:0,selectArr:[],testPaper:{},minute:0,second:0,gidForm:{gids:""},isShowTime:!1,showTime:5,timer:""}},methods:n()({},Object(a.mapActions)("auth",["setGid"]),{shangeRadio:function(t){this.examForm.selectId=[],this.examForm.selectId.push(t)},selectOption:function(t){this.examForm.selectId=this.selectIndex},selectQuestion:function(t){this.closeCountDown(),this.examForm.questionId=t.id,this.changeToken()},answer:function(){var t=this;if(0==this.examForm.selectId.length)return Object(c.i)(this,"error","请先选择问题答案"),!1;if(""!=o.a.get("token")&&o.a.get("examToken")===o.a.get("token")){if(0!=this.questionCurrent.is_right)return!1;this.examForm.questionId=this.questionCurrent.id,r.n.addAnswer(this.examForm).then(function(e){0==e.status?(t.setAssignment(e),t.questionCurrent.number<t.questionNum&&t.countDown()):Object(c.i)(t,"error",e.msg)})}else this.$alert("您已登录其他账号，无法继续考试！","温馨提示",{confirmButtonText:"确定",callback:function(e){t.$router.push("/")}})},countDown:function(){var t=this;this.isShowTime=!0,this.timer=setInterval(function(){t.showTime<1?t.nextAnswer():t.showTime--},1e3)},closeCountDown:function(){this.timer&&clearInterval(this.timer),this.isShowTime=!1,this.showTime=5},preAnswer:function(){this.closeCountDown(),this.questionPre!=[]&&this.questionPre.id?(this.examForm.questionId=this.questionPre.id,this.changeToken()):Object(c.i)(this,"error","已经是第一题了!")},nextAnswer:function(){this.closeCountDown(),this.questionNext!=[]&&this.questionNext.id?(this.examForm.questionId=this.questionNext.id,this.changeToken()):Object(c.i)(this,"error","已经是最后一题了!")},commitExam:function(){var t=this;this.closeCountDown(),""!=o.a.get("token")&&o.a.get("examToken")===o.a.get("token")?r.n.submitTestPaper(this.examForm).then(function(e){0==e.status?(t.testPaper=e.data,t.showShadow=!0):Object(c.i)(t,"error",e.msg)}):this.$alert("您已登录其他账号，无法继续考试！","温馨提示",{confirmButtonText:"确定",callback:function(e){t.$router.push("/")}})},examination:function(){var t=this;clearInterval(this.interval),r.n.addSubmitTestPaper(this.examForm).then(function(e){0==e.status?(Object(c.i)(t,"success","提交成功！"),t.$router.push({path:"/profile/components/myexamine/submitPapers",query:{id:t.examForm.examId}})):Object(c.i)(t,"error",e.msg)})},closeChadow:function(){this.showShadow=!1},changeTime:function(t){var e=this;if(t<=0)return clearInterval(this.interval),this.commitExam(),this.isOver=!0,!1;this.minute=parseInt(t/60),this.second=t%60,this.interval=setInterval(function(){e.second>0?e.second--:e.minute>0?(e.minute--,e.second=59):e.minute=0,0==e.second&&0==e.minute&&(clearInterval(e.interval),e.commitExam(),e.isOver=!0)},1e3)},questionsDetail:function(){var t=this;r.n.questionsDetail(this.examForm).then(function(e){0==e.status?t.setAssignment(e):(t.goProfile("tab-tenth"),t.$bus.$emit("whichShow","list"),Object(c.i)(t,"error",e.msg))})},goProfile:function(t){this.gidForm.gids=t,this.setGid(this.gidForm),this.$router.push("/profile")},setAssignment:function(t){this.title=t.data.exam_name,this.questionCurrent=t.data.questionCurrent,this.selectArr=t.data.questionCurrent.option,this.questionCard=t.data.questionList,this.questionNum=t.data.questionList.length,this.answerNum=t.data.answerTotal,this.percent=t.data.answerTotal/t.data.questionList.length*100,this.selectItem=this.questionCurrent.id,0!=t.data.questionCurrent.is_right?(this.showResult=!0,1==t.data.questionCurrent.type?this.selectRadio=t.data.questionCurrent.user_key[0]:this.selectIndex=t.data.questionCurrent.user_key):(this.examForm.selectId=[],this.selectIndex=[],this.selectRadio="",this.showResult=!1),this.questionNext=t.data.questionNext,this.questionPre=t.data.questionPrevious,clearInterval(this.interval),this.changeTime(t.data.surplus_time)},changeToken:function(){var t=this;""!=o.a.get("token")&&o.a.get("examToken")===o.a.get("token")?this.questionsDetail():this.$alert("您已登录其他账号，无法继续考试！","温馨提示",{confirmButtonText:"确定",callback:function(e){t.$router.push("/")}})}}),mounted:function(){Object(c.m)("考试中心-1911学堂"),window.location.search?(this.examForm.examId=Object(c.h)("id"),o.a.get("examToken")?this.changeToken():(o.a.set("examToken",o.a.get("token")),this.questionsDetail()),this.interval&&clearInterval(this.interval)):(this.$router.push("/profile"),Object(c.i)(this,"error","获取考试信息错误，请刷新后重试！"))},beforeRouteEnter:function(t,e,s){s(function(t){t.$bus.$emit("headerFooterHide")})},beforeRouteLeave:function(t,e,s){this.$bus.$emit("headerFooterShow"),o.a.set("examToken",""),s()}}},"H/Jr":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAS1BMVEUAAAD/X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X1//X18HgImwAAAAGHRSTlMA8ndNwNcRyB88qifjz7qillizjIJoCerRoJ13AAABl0lEQVRIx6WX3ZKDIAyFgYAioNafbvP+T7rtDLNdTGiVnEunXwNJOATFqwMzW5e0Ts7OBjp1WtFMGgvpycRTKEzIaoLvaI9V9Z9xH/Cjgq+zd41fpO81dsYTmln0x+Ip2R+msg5PytGqU7ZOH1mLF2RL9oaXdPvPLnhRy5vt8LLeSVuvw6vKGrBBQ4bHFngUBEYcSImvFtuTk4NE7Gf/hM1hL+DjTtE9ejjkxjzhvmT5plmYzPakQQa21S2b2k5BubFcPUNX+FK5b1B7Cee220p4y21cwrsKbIyEhRK7nqCOVgsvR1pJK7+8B45WTB1kNVtCorSZlTrKA5v1ULod1iJYtmzXDjvVt8O9Cu1wUDtWZA14HyOYqlnsCiq2HtWf4s6XBHjPtvHMpd8pLmMbc+8z+cpHhZwsqoX9ma/Fha1PabwttdiesRx3HItcxifOmgbu+jT8J+p2I418p39IbZYLHXxHkjgPQyCB+StW41etostdMlZIBhrJKCUZ4kTjo2RwFYzMkmFd8kyQPlDkTyP5o0z0HPwFJGnvkVE3R/wAAAAASUVORK5CYII="},SNTH:function(t,e,s){"use strict";s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"exam clearfix"},[i("div",{staticClass:"examTitle clearfix"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"title"},[t._v(t._s(t.title))])]),i("div",{staticClass:"title-right"},[i("span",{staticClass:"overtime"},[t._v("\n        剩余时间：\n        "),i("i",[t._v(t._s(t.minute))]),t._v("分\n        "),i("i",[t._v(t._s(t.second))]),t._v("秒\n      ")])])]),i("div",{staticClass:"examLeft fl"},[i("div",{staticClass:"problem"},[1==t.questionCurrent.type?i("h3",[t._v("单选题")]):t._e(),2==t.questionCurrent.type?i("h3",[t._v("多选题")]):t._e(),i("h4",[t._v(t._s(t.questionCurrent.number)+"."+t._s(t.questionCurrent.title))]),1==t.questionCurrent.type?i("div",t._l(t.selectArr,function(e,s){return i("el-radio",{key:s,attrs:{label:e.option_key,disabled:t.showResult},on:{change:t.shangeRadio},model:{value:t.selectRadio,callback:function(e){t.selectRadio=e},expression:"selectRadio"}},[t._v(t._s(e.option_key)+"."+t._s(e.option_value))])})):t._e(),2==t.questionCurrent.type?i("el-checkbox-group",{on:{change:t.selectOption},model:{value:t.selectIndex,callback:function(e){t.selectIndex=e},expression:"selectIndex"}},t._l(t.selectArr,function(e,s){return i("el-checkbox",{key:s,attrs:{label:e.option_key,disabled:t.showResult}},[t._v(t._s(e.option_key)+"."+t._s(e.option_value))])})):t._e()],1),i("div",{staticClass:"result"},[t.showResult&&1==t.questionCurrent.is_right?i("p",{staticClass:"success"},[i("i",{staticClass:"el-icon-success"}),t._v("答对啦！\n      ")]):t._e(),t.showResult&&2==t.questionCurrent.is_right?i("p",{staticClass:"error"},[i("i",{staticClass:"el-icon-error"}),t._v("答错啦！\n      ")]):t._e(),i("p",{staticClass:"analysis"},[t._v("解析：")]),t.isShowTime?i("p",{staticClass:"countTime"},[t._v("\n        自动跳转到下一题倒计时：\n        "),i("span",[t._v(t._s(t.showTime)+"s")])]):t._e()]),i("div",{staticClass:"commitBtn"},[i("span",{staticClass:"preAnswer",class:{unclick:"{}"==JSON.stringify(t.questionPre),btnClick:"{}"!=JSON.stringify(t.questionPre)},on:{click:t.preAnswer}},[t._v("上一题")]),i("span",{staticClass:"nextAnswer",class:{unclick:"{}"==JSON.stringify(t.questionNext),btnClick:"{}"!=JSON.stringify(t.questionNext)},on:{click:t.nextAnswer}},[t._v("下一题")]),t.answerNum==t.questionNum?i("div",{staticClass:"btn-submit"}):i("div",{staticClass:"btn-submit"},[t.isOver||0!=t.questionCurrent.is_right?i("span",{staticClass:"isOver"},[t._v("提交")]):i("span",{on:{click:t.answer}},[t._v("提交")])])])]),i("div",{staticClass:"examRight fr"},[i("div",{staticClass:"progress"},[i("h3",[t._v("当前进度")]),i("p",[t._v(t._s(t.answerNum)+" / "+t._s(t.questionNum))]),i("el-progress",{attrs:{"stroke-width":10,color:"#3FBABE","show-text":!1,percentage:t.percent}})],1),i("div",{staticClass:"displayCard"},[i("h3",[t._v("答题卡")]),i("ul",{staticClass:"cardList"},t._l(t.questionCard,function(e,s){return i("li",{key:s,class:[{bgColor:t.selectItem==e.id},{success:1==e.is_right&&t.selectItem!=e.id},{error:2==e.is_right&&t.selectItem!=e.id}],on:{click:function(s){t.selectQuestion(e)}}},[t._v(t._s(e.number))])}))]),i("div",{staticClass:"commitBtn"},[t.isOver?i("span",{staticClass:"isOver"},[t._v("交卷")]):i("span",{on:{click:t.commitExam}},[t._v("交卷")])])]),t.showShadow?i("div",{staticClass:"shadow"},[t.showShadow?i("div",{staticClass:"popup"},[t.isOver?t._e():i("i",{staticClass:"el-icon-close",on:{click:t.closeChadow}}),t.testPaper.doYouPass?i("p",{staticClass:"grade smile"},[i("img",{staticClass:"fl",attrs:{src:s("dyKg"),alt:""}}),i("span",[t._v(t._s(t.testPaper.answerScoreSum)+"分")]),i("span",[t._v("成绩合格！")])]):i("p",{staticClass:"grade cry"},[i("img",{staticClass:"fl",attrs:{src:s("H/Jr"),alt:""}}),i("span",[t._v(t._s(t.testPaper.answerScoreSum)+"分")]),i("span",[t._v("成绩不合格！")])]),i("p",{staticClass:"clearfix subjectNumber"},[i("span",{staticClass:"fl"},[t._v("\n          未答题数：\n          "),i("i",[t._v(t._s(t.testPaper.notAnswerTotal))])]),i("span",{staticClass:"fr"},[t._v("\n          错题数：\n          "),i("i",[t._v(t._s(t.testPaper.answerErrorTotal))])])]),t.isOver?i("p",{staticClass:"noTime"},[t._v("考试时间已到，请交卷！")]):t._e(),i("div",{staticClass:"sdwBtn"},[i("span",{staticClass:"gonow",on:{click:t.examination}},[t._v("现在交卷")]),t.testPaper.notAnswerTotal>0&&!t.isOver?i("span",{staticClass:"continue",on:{click:t.closeChadow}},[t._v("继续答题")]):t._e()])]):t._e()]):t._e()])},n=[];i._withStripped=!0},ZvWb:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"",""])},dyKg:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAATlBMVEUAAAA2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjc2mjcXLVm5AAAAGXRSTlMAC+9deXLZkfblr2m8MCfGg5ymQzgf0BdNet3tFAAAAcVJREFUSMelV1uShCAMjAICKoJvuf9Ft2YttoYQXYX+zExrSNKxgQtUhnE5tu0oOTMVvMAg+tp/oe7F8IxZdb0nYLsH7xfaX0ALuAdr/A0adpfx5P/BdJn7rP2/0DPN7fwjdBSX+4fgRJW9z2azM56V+eJfYY56VL8jq++Otf4l2q8G+9c4IEC/J9cZXUr7FaqVUzPms3AqzOaRtw93RUHrnCX+KiWODmm5DlJgIpwPlawnTgKjjyAp4fV4Mhs4sdLTWKOooceOeiTOckEHsUEpihynBh2RJyUkKnaQwnUg0Xb9PZ5RaO3tn+iONDDClKz2ZZapDoQxHI/xBK3PRltGnvLJE8h88gg8n+yA5ZMZmHzygld23dx8nvEiQsM+VjBc0O0AZkOSBIHkE+WCftoVWgZrVPwPhpNNzDw0WEM2Ee66YW5fAU5qS1avgxNSxbIgvmks3Rpd2ENO/6XD9/BIYjWJuPMBc+fGSYoFAhxpDzSK0pDkZoIjVtpK+lGLFxP9cVeiwtTKISnf2ArtIpdrZI0n897QWMfMXu3rwuSWGpoHVkopRVupEhNXYh9LjGuJZS4x6wXXhOILSvnVqPxSVnQd/AH1RO0O9Mn3SAAAAABJRU5ErkJggg=="}});