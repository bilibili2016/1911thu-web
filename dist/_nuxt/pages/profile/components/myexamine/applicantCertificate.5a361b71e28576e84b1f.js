webpackJsonp([104],{JfWn:function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i.d(t,"b",function(){return r});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"applicant"},[i("p",[e._v("您已参加过"),i("i",[e._v(e._s(e.number))]),e._v("次考试，剩余考试次数"),i("i",[e._v(e._s(e.testPaper.surplusFrequency))]),e._v("次。最高成绩"),i("i",[e._v(e._s(e.testPaper.optimumAchievement))]),e._v("分，等级"),i("i",[e._v(e._s(e.testPaper.optimumScoreRank))]),e._v("，我们会以您的最高成绩颁发证书！证书下发后，您可以在个人中心查看电子版证书，也可申请纸质证书。")]),i("div",{staticClass:"conList clearfix"},[i("div",{staticClass:"fl"},[e._v("收货人：")]),i("div",{staticClass:"fr"},[i("el-input",{attrs:{placeholder:"请输入收货人姓名"},model:{value:e.perfileForm.name,callback:function(t){e.$set(e.perfileForm,"name",t)},expression:"perfileForm.name"}})],1)]),i("div",{staticClass:"conList clearfix"},[i("div",{staticClass:"fl"},[e._v("手机号：")]),i("div",{staticClass:"fr"},[i("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.perfileForm.tel,callback:function(t){e.$set(e.perfileForm,"tel",t)},expression:"perfileForm.tel"}})],1)]),i("div",{staticClass:"conList clearfix"},[i("div",{staticClass:"fl"},[e._v("所在地区：")]),i("div",{staticClass:"fr"},[i("el-select",{attrs:{placeholder:"省"},on:{change:e.provinceChange},model:{value:e.perfileForm.province_name,callback:function(t){e.$set(e.perfileForm,"province_name",t)},expression:"perfileForm.province_name"}},e._l(e.province,function(e,t){return i("el-option",{key:"prov"+t,attrs:{label:e.label,value:e.value}})})),i("el-select",{attrs:{placeholder:"市","no-data-text":"请先选择所在省份"},on:{change:e.cityChange},model:{value:e.perfileForm.city_name,callback:function(t){e.$set(e.perfileForm,"city_name",t)},expression:"perfileForm.city_name"}},e._l(e.city,function(e,t){return i("el-option",{key:"city"+t,attrs:{label:e.label,value:e.value}})})),i("el-select",{attrs:{placeholder:"区","no-data-text":"请先选择所在城市"},on:{change:e.areaChange},model:{value:e.perfileForm.area_name,callback:function(t){e.$set(e.perfileForm,"area_name",t)},expression:"perfileForm.area_name"}},e._l(e.area,function(e,t){return i("el-option",{key:"area"+t,attrs:{label:e.label,value:e.value}})}))],1)]),i("div",{staticClass:"conList clearfix"},[i("div",{staticClass:"fl"},[e._v("详细地址：")]),i("div",{staticClass:"fr"},[i("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.perfileForm.add,callback:function(t){e.$set(e.perfileForm,"add",t)},expression:"perfileForm.add"}})],1)]),i("div",{staticClass:"applicantBtn"},[i("span",{on:{click:e.handleNext}},[e._v("提交")])])])},r=[];a._withStripped=!0},QMde:function(e,t,i){"use strict";var a=i("BO1k"),r=i.n(a),n=i("woOf"),o=i.n(n),l=i("Dd8w"),s=i.n(l),c=i("NYxO"),p=i("lHEt"),f=i("SL1N"),h=i("v/8m");t.a={data:function(){return{isClick:!1,examForm:{examId:""},area:[],province:[],city:[],testPaper:{},number:0,perfileForm:{vipID:"",needPaper:1,name:"",tel:"",province_name:"",province:"",city_name:"",city:"",area_name:"",area:"",add:""},mapregionList:{},gidForm:{gids:""}}},methods:s()({},Object(c.mapActions)("auth",["setGid"]),{IsNeedPaper:function(e){this.perfileForm.needPaper=e?2:1},handleNext:function(){try{if(""===Object(h.b)(this.perfileForm.name))throw"请填写姓名";if(""===Object(h.b)(this.perfileForm.tel))throw"请填写手机号码";if(!/^[1][2,3,4,5,6,7,8,9][0-9]{9}$/.test(Object(h.b)(this.perfileForm.tel)))throw"请填写正确的手机号码";if(""===Object(h.b)(this.perfileForm.province_name))throw"请选择省份";if(""===Object(h.b)(this.perfileForm.city_name))throw"请选择市区";if(""===Object(h.b)(this.perfileForm.area_name))throw"请选择区县";if(""===Object(h.b)(this.perfileForm.add))throw"请填写收货详细地址"}catch(e){return Object(h.i)(this,"error",e),!1}this.addApplyCertificate()},getRegionList:function(){var e=this;f.z.getRegionList({region_code:""}).then(function(t){e.mapregionList=t.data.regionList,e.province=e.mapregionList.map(function(e){return o()({},e,{label:e.name,value:e.region_code})})})},provinceChange:function(e){this.perfileForm.city_name="",this.perfileForm.area_name="",this.perfileForm.city="",this.perfileForm.area="",this.province||0!=this.province.length||this.getRegionList(),this.city=this.getRegion(this.province,e);var t=!0,i=!1,a=void 0;try{for(var n,o=r()(this.province);!(t=(n=o.next()).done);t=!0){var l=n.value;e==l.region_code&&(this.perfileForm.province_name=l.name,this.perfileForm.province=l.region_code)}}catch(e){i=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw a}}},cityChange:function(e){this.perfileForm.area_name="",this.perfileForm.area="",this.city||0!=this.city.length||this.getRegionList(),this.area=this.getRegion(this.city,e);var t=!0,i=!1,a=void 0;try{for(var n,o=r()(this.city);!(t=(n=o.next()).done);t=!0){var l=n.value;e==l.region_code&&(this.perfileForm.city_name=l.name,this.perfileForm.city=l.region_code)}}catch(e){i=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw a}}},areaChange:function(e){var t=!0,i=!1,a=void 0;try{for(var n,o=r()(this.area);!(t=(n=o.next()).done);t=!0){var l=n.value;e==l.region_code&&(this.perfileForm.area_name=l.name,this.perfileForm.area=l.region_code)}}catch(e){i=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw a}}},getRegion:function(e,t){var i=[],a=!0,n=!1,l=void 0;try{for(var s,c=r()(e);!(a=(s=c.next()).done);a=!0){var p=s.value;if(p.region_code==t){var f=!0,h=!1,d=void 0;try{for(var m,u=r()(p.city);!(f=(m=u.next()).done);f=!0){var v=m.value;i.push(o()({},v,{label:v.name,value:v.region_code}))}}catch(e){h=!0,d=e}finally{try{!f&&u.return&&u.return()}finally{if(h)throw d}}}}}catch(e){n=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(n)throw l}}return i},getPaperDetail:function(){var e=this;f.n.submitTestPaper(this.examForm).then(function(t){0==t.status?(e.testPaper=t.data,e.number=3-t.data.surplusFrequency,t.data.isApplyExamCertificate||(Object(h.i)(e,"error","请查看考试记录，不能申请记录！"),e.goProfile("tab-tenth"),e.$bus.$emit("whichShow","list"))):Object(h.i)(e,"error",t.msg)})},addApplyCertificate:function(){var e=this;if(this.isClick)return!1;this.isClick=!0,f.n.addApplyCertificate(this.perfileForm).then(function(t){0==t.status?(Object(h.i)(e,"success","提交成功"),e.$router.push("/profile/components/myexamine/reviewing")):100101==t.status||100102==t.status?(e.goProfile("tab-tenth"),e.$bus.$emit("whichShow","info"),Object(h.i)(e,"error",t.msg)):100103==t.status?(e.goProfile("tab-tenth"),e.$bus.$emit("whichShow","list"),Object(h.i)(e,"error",t.msg)):e.isClick=!1})},goProfile:function(e){this.gidForm.gids=e,this.setGid(this.gidForm),this.$router.push("/profile")}}),watch:{province:function(e){this.city=this.getRegion(e,this.perfileForm.province),this.area=this.getRegion(this.city,this.perfileForm.city)}},mounted:function(){p.a.get("token")?window.location.search?(this.perfileForm.vipID=Object(h.h)("vipID"),this.examForm.examId=Object(h.h)("id"),this.getRegionList(),this.getPaperDetail()):this.$router.push("/profile"):this.$router.push("/")}}},RCsx:function(e,t,i){var a=i("mr+N");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),i("rjj0")("7df7d5cd",a,!1,{sourceMap:!1})},cRk7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("QMde"),r=i("JfWn"),n=i("XyMi"),o=!1,l=function(e){o||i("RCsx")},s=Object(n.a)(a.a,r.a,r.b,!1,l,"data-v-a146d04e",null);s.options.__file="pages/profile/components/myexamine/applicantCertificate.vue",t.default=s.exports},"mr+N":function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,".applicant[data-v-a146d04e]{width:100%;height:100%;background-color:#fafafa;margin:0 auto;padding-top:30px;color:#222;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.applicant .el-checkbox[data-v-a146d04e]{margin:40px 0 30px}.applicant p[data-v-a146d04e]{width:970px;margin:0 auto;font-size:18px;line-height:36px;color:#222;text-align:center;margin-bottom:80px}.applicant p i[data-v-a146d04e]{color:#ff5f5f}.applicant .conList[data-v-a146d04e]{width:1000px;margin:0 auto 10px}.applicant .conList .fl[data-v-a146d04e]{width:120px;height:40px;line-height:40px;font-size:16px;text-align:right}.applicant .conList .fr[data-v-a146d04e]{width:880px;line-height:40px;font-size:16px;color:#222}.applicant .conList .fr .el-select[data-v-a146d04e]{float:left;margin-right:30px}.applicant .applicantBtn[data-v-a146d04e]{width:400px;margin:0 auto}.applicant .applicantBtn span[data-v-a146d04e]{width:140px;height:42px;line-height:42px;text-align:center;border-radius:6px;font-size:16px;margin-top:50px;border-radius:21px;background-color:#6417a6;color:#fff;cursor:pointer}",""])}});